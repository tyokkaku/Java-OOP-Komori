# 七並べのモデリング

## モデリング

### 七並べの仕様

- プレイヤーは2人以上とする
- ジョーカーを除く52枚のトランプを使用する

ルール

- テーブルに並んでいるカードと同じスートで、隣り合う数字のカードを置くことができる
- A(エース)とK(キング)は、隣り合うものとする
- テーブルに出せるカードがない場合は、プレイヤーはパスすることができる。
  - パスは3回までとする。4回目のパスをした時点で負けとなり、その時点で持っているカードをすべてテーブルに置く

### クラス・属性・操作の抽出

- プレイヤー
  - フィールド
    - 名前
  - メソッド
    - パスする
    - カードを出す
    - 上がりを宣言する
    - 失格を宣言する

- 進行役
  - フィールド
    - プレイヤーがパスした回数
  - メソッド
    - プレイヤーを指名する

- 手札
  - フィールド
    - 枚数
  - メソッド
    - シャッフルする
    - 手札を配る
    - 手札を並べ換える

- テーブル
  - フィールド
    - 現在のテーブルの状態
  - メソッド
    - テーブルの状態をプレイヤーに伝える
    - カードの状態を変更する

- カード
  - フィールド
    - ナンバー
    - スート
  - メソッド

### クラス間の関連

  プレイヤー

- プレイヤークラスが受けたメッセージ
  1. カードを配る
  2. 手番を伝える

- プレイヤークラスの振る舞い
  1. カードを手札に加える
  2. カードを選んで、捨てる

進行役

- 進行役が受けたメッセージ
  1. パスをする

- 進行役の振る舞い
  1. プレイヤーのパスの回数を保存する

手札

- 手札が受けたメッセージ
  1. カードを加える
  2. 出せるカードを調べる
  3. 出すカードを選ぶ
  4. カードの枚数を数える

- 手札の振る舞い
  1. 手札に保存する
  2. 出せるカードを伝える
  3. 手札から出すカードを引く
  4. カードの枚数を数えて、プレイヤーに伝える

テーブル

- テーブルが受けたメッセージ
  1. カードを捨てる
  2. テーブルの状態を調べる

  - テーブルの振る舞い
  1. 捨てられたカードを保存しておく
  2. テーブルの状態をプレイヤーに伝える